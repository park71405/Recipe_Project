<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.recipe.mappers.rcpBoard">
	
	<!-- 레시필 목록 -->
	<select id="rcpList" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		
		<if test='rcpSearchType.equals("rcpTitle")'>
			where rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 요리 종류 밥 조회 -->
	<select id="rcpKindType1List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_pat2 = '밥'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 요리 종류 후식 조회 -->
	<select id="rcpKindType2List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_pat2 = '후식'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 요리 종류 반찬 조회 -->
	<select id="rcpKindType3List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_pat2 = '반찬'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 요리 종류 국+찌개 조회 -->
	<select id="rcpKindType4List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_pat2 like concat('%', '국', '%')
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 요리 종류 일품 조회 -->
	<select id="rcpKindType5List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_pat2 = '일품'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 요리 종류 기타 조회 -->
	<select id="rcpKindType6List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_pat2 = '기타'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 조리방법 볶기 조회 -->
	<select id="rcpKindCookM1List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_way2 = '볶기'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 조리방법 굽기 조회 -->
	<select id="rcpKindCookM2List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_way2 = '굽기'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 조리방법 끓이기 조회 -->
	<select id="rcpKindCookM3List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_way2 = '끓이기'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 조리방법 찌기 조회 -->
	<select id="rcpKindCookM4List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_way2 = '찌기'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 조리방법 튀기기 조회 -->
	<select id="rcpKindCookM5List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_way2 = '튀기기'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>
	
	<!-- 레시피 조리방법 기타 조회 -->
	<select id="rcpKindCookM6List" parameterType="hashMap" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, att_file_no_main
		from recipe
		where rcp_way2 = '기타'
		<if test='rcpSearchType.equals("rcpTitle")'>
			 and rcp_nm LIKE concat('%', #{rcpKeyword}, '%')
		</if>
		
		order by rcp_seq desc
			limit #{displayPost}, #{postNum}
	</select>	
	
	<!-- 레시피 조회 -->
	<select id="rcpView" parameterType="int" resultType="com.recipe.domain.RcpBoardVO">
		select 
			rcp_seq, rcp_nm, rcp_way2, rcp_pat2, info_eng, att_file_no_main
		from
			recipe
		where
			rcp_seq = #{rcp_seq}
	</select>
	
	<!-- 레시피 과정 조회 -->
	<select id="rcpProcessView" parameterType="int" resultType="com.recipe.domain.RcpProcessVO">
		select 
			pro_no, rcp_seq, manual01, manual02, manual03, manual04, manual05, manual06, manual07, manual08, manual09, manual10,
			manual11, manual12, manual13, manual14, manual15, manual16, manual17, manual18, manual19, manual20, 
			manual_img01, manual_img02, manual_img03, manual_img04, manual_img05, manual_img06, manual_img07, manual_img08, manual_img09, manual_img10,
			manual_img11, manual_img12, manual_img13, manual_img14, manual_img15, manual_img16, manual_img17, manual_img18, manual_img19, manual_img20
		from recipe_process
		where 
			rcp_seq = #{rcp_seq}
	</select>
	
	<!-- 레시피 재료 조회 -->
	<select id="rcpPartsView" parameterType="hashMap" resultType="com.recipe.domain.RcpPartsVO">
		select 
			parts_no, rcp_seq, rcp_pat_nm, rcp_pat_vl, rcp_pat_type
		from recipe_parts1
		where
			rcp_seq = #{rcp_seq}
	</select>
	<select id="rcpPartsView2" parameterType="hashMap" resultType="com.recipe.domain.RcpPartsVO">
		select 
			parts_no, rcp_seq, rcp_pat_nm, rcp_pat_vl, rcp_pat_type
		from recipe_parts2
		where
			rcp_seq = #{rcp_seq}
	</select>
	<select id="rcpPartsView3" parameterType="hashMap" resultType="com.recipe.domain.RcpPartsVO">
		select 
			parts_no, rcp_seq, rcp_pat_nm, rcp_pat_vl, rcp_pat_type
		from recipe_parts3
		where
			rcp_seq = #{rcp_seq}
	</select>
	<select id="rcpPartsView4" parameterType="hashMap" resultType="com.recipe.domain.RcpPartsVO">
		select 
			parts_no, rcp_seq, rcp_pat_nm, rcp_pat_vl, rcp_pat_type
		from recipe_parts4
		where
			rcp_seq = #{rcp_seq}
	</select>
	<select id="rcpPartsView5" parameterType="hashMap" resultType="com.recipe.domain.RcpPartsVO">
		select 
			parts_no, rcp_seq, rcp_pat_nm, rcp_pat_vl, rcp_pat_type
		from recipe_parts5
		where
			rcp_seq = #{rcp_seq}
	</select>
	<select id="rcpPartsView6" parameterType="hashMap" resultType="com.recipe.domain.RcpPartsVO">
		select 
			parts_no, rcp_seq, rcp_pat_nm, rcp_pat_vl, rcp_pat_type
		from recipe_parts6
		where
			rcp_seq = #{rcp_seq}
	</select>
	<select id="rcpPartsView7" parameterType="hashMap" resultType="com.recipe.domain.RcpPartsVO">
		select 
			parts_no, rcp_seq, rcp_pat_nm, rcp_pat_vl, rcp_pat_type
		from recipe_parts7
		where
			rcp_seq = #{rcp_seq}
	</select>
	<select id="rcpPartsView8" parameterType="hashMap" resultType="com.recipe.domain.RcpPartsVO">
		select 
			parts_no, rcp_seq, rcp_pat_nm, rcp_pat_vl, rcp_pat_type
		from recipe_parts8
		where
			rcp_seq = #{rcp_seq}
	</select>
	
	<!-- 레시피 총 개수 -->
	<select id="rcpCount" parameterType="hashMap" resultType="int">
		select count(rcp_seq) from recipe
	</select>
	

</mapper>